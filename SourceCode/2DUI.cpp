//*************************************************************************************************************
//
// 2DUI処理[2DUI.cpp]
// Author : Sekine Ikuto
//
//*************************************************************************************************************
//-------------------------------------------------------------------------------------------------------------
// インクルードファイル
//-------------------------------------------------------------------------------------------------------------
#include "2DUI.h"
#include "texture.h"
#include "keyboard.h"

//-------------------------------------------------------------------------------------------------------------
// 生成
//-------------------------------------------------------------------------------------------------------------
C2DUi * C2DUi::Create(ui2d::SETING2DUI &seting, PRIORITY pri)
{
	C2DUi * pC2dui = new C2DUi(pri);
	pC2dui->Init(seting, pri);
	return pC2dui;
}

//-------------------------------------------------------------------------------------------------------------
// 初期化
//-------------------------------------------------------------------------------------------------------------
void C2DUi::Init(ui2d::SETING2DUI & seting, PRIORITY pri)
{
	CScene2D::SetOriginType((ORIGINVERTEXTYPE)seting.nOriginType);
	CScene2D::SetPosition(seting.pos);
	CScene2D::SetRotation(seting.fRotation);
	CScene2D::SetSize(seting.size);
	CScene2D::BindTexture(CTexture::GetTextureInfo(seting.nTextureID));
	CScene2D::Init();
}

//-------------------------------------------------------------------------------------------------------------
// 初期化
//-------------------------------------------------------------------------------------------------------------
void C2DUi::Init(void)
{
}

//-------------------------------------------------------------------------------------------------------------
// 終了
//-------------------------------------------------------------------------------------------------------------
void C2DUi::Uninit(void)
{
	CScene2D::Uninit();
}

//-------------------------------------------------------------------------------------------------------------
// 更新
//-------------------------------------------------------------------------------------------------------------
void C2DUi::Update(void)
{
	Ckeyboard key = CManager::GetKeyboard();

	if (key.GetTrigger(DIK_H))
	{
		m_UpdateFlags.pos = true;
		m_fRotation -= 0.1f;
	}
	else if (key.GetTrigger(DIK_Y))
	{
		m_UpdateFlags.pos = true;
		m_fRotation += 0.1f;
	}
	if (key.GetTrigger(DIK_J))
	{
		m_UpdateFlags.pos = true;
		m_size.x -= 10.0f;
	}
	else if (key.GetTrigger(DIK_U))
	{
		m_UpdateFlags.pos = true;
		m_size.x += 10.0f;
	}
	if (key.GetTrigger(DIK_K))
	{
		m_UpdateFlags.pos = true;
		m_size.y -= 10.0f;
	}
	else if (key.GetTrigger(DIK_I))
	{
		m_UpdateFlags.pos = true;
		m_size.y += 10.0f;
	}

	CScene2D::Update();
}

//-------------------------------------------------------------------------------------------------------------
// 描画
//-------------------------------------------------------------------------------------------------------------
void C2DUi::Draw(void)
{
	CScene2D::Draw();
}